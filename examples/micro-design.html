<html>
	<body>
		<div>Here is the message:</div>
		<div id="themessage"></div>
		<script type="module">
			import {hcx} from "../hcx.js";
		
			(async () => {
				const file = await fetch("./micro-design-template.html"),
					text = await file.text(),
					dom = hcx.asDOM(text),
					body = dom.querySelector("body"),
					head = dom.querySelector("head"),
					el = body ? body : (!head ? dom : null),
					compiled = el ? hcx.compile(el) : null;
				setTimeout(() => {
					if(compiled) {
						const shadow = true;
						compiled({message:"Hello World!",date:new Date()},document.getElementById("themessage"),shadow)
					} else {
						alert("error loading template")
					}
				});
			})();
			
		</script>
	</body>
</html>